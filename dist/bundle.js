!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mobile=!1,window.addEventListener("resize",this.checkIfMobile.bind(this))}var t,n,o;return t=e,(n=[{key:"checkIfMobile",value:function(){return"none"===getComputedStyle(document.querySelector(".main-nav__hamburger")).getPropertyValue("display")?this.mobile=!1:this.mobile=!0,this.mobile}}])&&r(t.prototype,n),o&&r(t,o),e}();function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var u=function(){function e(){var t=this;a(this,e),this.urlMobile=["url(./assets/slide1.jpg)","url(./assets/slide2.jpg)","url(./assets/slide3.jpg)"],this.urlDesctop=["url(./assets/slide1-2x.jpg)","url(./assets/slide2-2x.jpg)","url(./assets/slide3-2x.jpg)"],this.carusel=document.querySelector(".carousel__bg"),this.slideNumber=document.querySelector(".carousel__slide"),this.slide=new d,this.number=new l,this.windowSize=new o,this.indexInterval=setInterval(this.changeSlideAuto.bind(this),5e3),this.arrowBack=document.querySelector(".carousel__arrow--back"),this.arrowNext=document.querySelector(".carousel__arrow--next"),this.arrowBack.addEventListener("click",this.changeSlideBack.bind(this)),this.arrowNext.addEventListener("click",this.changeSlideNext.bind(this)),this.dots=i(document.querySelectorAll(".carousel__dot")),this.dots.forEach(function(e){e.addEventListener("click",t.changeSlidesWithDots.bind(t))},this),this.slideEffect()}return s(e,[{key:"slideEffect",value:function(){this.carusel.classList.contains("carousel__effect")&&this.carusel.classList.remove("carousel__effect");var e=this;setTimeout(function(){e.carusel.classList.add("carousel__effect")},500)}},{key:"changeAppearanceDots",value:function(e){var t=this.dots.findIndex(function(e){return e.classList.contains("carousel__dot--active")});this.dots[t].classList.remove("carousel__dot--active"),this.dots[e].classList.add("carousel__dot--active")}},{key:"changeSlideAuto",value:function(){this.slideEffect();var e=this.slide.slideNext();this.windowSize.checkIfMobile()?(this.changeAppearanceDots(e),this.carusel.style.backgroundImage=this.urlMobile[e]):this.carusel.style.backgroundImage=this.urlDesctop[e],this.slideNumber.innerHTML=this.number.numbers[e]+" "}},{key:"changeSlideBack",value:function(){this.slideEffect(),clearInterval(this.indexInterval);var e=this.slide.slideBack();this.carusel.style.backgroundImage=this.urlDesctop[e],this.slideNumber.innerHTML=this.number.numbers[e]+" ",this.indexInterval=setInterval(this.changeSlideAuto.bind(this),5e3)}},{key:"changeSlideNext",value:function(){this.slideEffect(),clearInterval(this.indexInterval);var e=this.slide.slideNext();this.carusel.style.backgroundImage=this.urlDesctop[e],this.slideNumber.innerHTML=this.number.numbers[e]+" ",this.indexInterval=setInterval(this.changeSlideAuto.bind(this),5e3)}},{key:"changeSlidesWithDots",value:function(e){this.slideEffect(),clearInterval(this.indexInterval);var t=this.dots.indexOf(e.target);this.slide.active=t,this.changeAppearanceDots(t),this.carusel.style.backgroundImage=this.urlMobile[t],this.slideNumber.innerHTML=this.number.numbers[t]+" ",this.indexInterval=setInterval(this.changeSlideAuto.bind(this),5e3)}}]),e}(),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;a(this,e),this.numbers=[1,2,3],this.activeIndex=t}return s(e,[{key:"printNumberNext",value:function(){return this.activeIndex++,this.activeIndex>=this.numbers.length&&(this.activeIndex=0),this.numbers[this.activeIndex]+" "}},{key:"printNumberBack",value:function(){return this.activeIndex--,this.activeIndex<0&&(this.activeIndex=this.numbers.length-1),this.numbers[this.activeIndex]+" "}}]),e}(),d=function(){function e(){a(this,e),this.activeSlide=[0,1,2],this.active=0}return s(e,[{key:"slideNext",value:function(){return this.active++,this.active>=this.activeSlide.length&&(this.active=0),this.activeSlide[this.active]}},{key:"slideBack",value:function(){return this.active--,this.active<0&&(this.active=this.activeSlide.length-1),this.activeSlide[this.active]}}]),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hamburgerVisible=!1,this.menuIsOpen=!1,this.buttonHamburgerSelector=document.querySelector(".main-nav__hamburger"),this.navListSelector=document.querySelector(".main-nav__list"),this.windowSize=new o,this.handleButtonHamburger()}var t,n,r;return t=e,(n=[{key:"setHamburgerVisible",value:function(){this.windowSize.checkIfMobile()?this.hamburgerVisible=!0:this.hamburgerVisible=!1}},{key:"setMenuIsOpen",value:function(e){this.menuIsOpen=e}},{key:"toggleMenu",value:function(){this.setHamburgerVisible(),this.hamburgerVisible&&!this.menuIsOpen?(this.navListSelector.classList.add("main-nav__list--active"),this.setMenuIsOpen(!0)):(this.navListSelector.classList.remove("main-nav__list--active"),this.setMenuIsOpen(!1))}},{key:"handleButtonHamburger",value:function(){this.buttonHamburgerSelector.addEventListener("click",this.toggleMenu.bind(this))}}])&&h(t.prototype,n),r&&h(t,r),e}();function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.name=n,this.price=r,this.image=o,this.number=i,this.hover=!1,this.favourite=!1,this.addedToCart=!1,this.big=!1,this.selectorInPage,this.selectorInPageBtn,this.selectorInPageFav,this.temporaryImage="photo"}var t,n,r;return t=e,(n=[{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPrice",value:function(){return this.price}},{key:"getImage",value:function(){return this.image}},{key:"getTemporaryImage",value:function(){return this.temporaryImage}},{key:"getHover",value:function(){return this.hover}},{key:"getFavourite",value:function(){return this.favourite}},{key:"getAddedToCart",value:function(){return this.addedToCart}},{key:"getSelectorInPage",value:function(){return this.selectorInPage}},{key:"getSelectorInPageBtn",value:function(){return this.selectorInPageBtn}},{key:"getSelectorInPageBtnText",value:function(){return this.selectorInPageBtnText}},{key:"getSelectorInPageBtnIcon",value:function(){return this.selectorInPageBtnIcon}},{key:"getSelectorInPageFav",value:function(){return this.selectorInPageFav}},{key:"getSelectorImgHover",value:function(){return this.selectorImgHover}},{key:"setHover",value:function(e){this.hover=e}},{key:"setAddedToFavourites",value:function(e){this.favourite=e}},{key:"setAddedToCart",value:function(e){this.addedToCart=e}},{key:"setSelectors",value:function(){this.selectorInPage=document.querySelector(".main__product-".concat(this.number)),this.selectorInPageBtn=document.querySelector(".main__product-".concat(this.number," .product__bag")),this.selectorInPageFav=document.querySelector(".main__product-".concat(this.number," .product__like")),this.selectorImgHover=document.querySelector(".main__product-".concat(this.number," .product__img-hover")),this.selectorInPageBtnText=document.querySelector(".main__product-".concat(this.number," .product__bag .product__bag-text")),this.selectorInPageBtnIcon=document.querySelector(".main__product-".concat(this.number," .product__bag .product__bag-icon"))}},{key:"replaceStringInHtml",value:function(e,t,n){var r=this,o=t;return e.map(function(e){var t="image"===e&&n?r.temporaryImage:Object.getOwnPropertyDescriptor(r,e).value;o=o.replace("{".concat(e,"}"),t)}),o}},{key:"generateHtml",value:function(){var e=document.querySelector(".main__grid"),t=document.querySelector("#clone").cloneNode(!0);t.removeAttribute("id"),t.removeAttribute("style");var n=t.outerHTML.toString(),r=!(this.id<8);n=this.replaceStringInHtml.call(this,["number","id","name","price","image","image","image","image"],n,r);var o=document.createElement("article");return e.appendChild(o),o.outerHTML=n,3===this.number&&this.addClassBig(),this.setSelectors(),n}},{key:"addClassBig",value:function(){v(document.querySelector(".main__product-3").querySelectorAll(".product__img")).forEach(function(e){return e.classList.add("product__img--big")}),this.big=!0}}])&&g(t.prototype,n),r&&g(t,r),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.products=[],this.productsInCartSelectors=[],this.moneyToPay=0,this.count=0,this.countInCart=document.querySelector(".cart__count"),this.cartSelector=document.querySelector(".cart"),this.dropdownSelector=document.querySelector(".cart__dropdown"),this.contentSelector=document.querySelector(".cart__dropdown-text"),this.cartContainerSelector=document.querySelector(".cart__container"),this.cartBtnSelector=document.querySelector(".cart__btn"),this.buttonCloseSelector=document.querySelector(".popup__close"),this.cartNotEmptySelector=document.querySelector(".cart__products"),this.cartEmptySelector=document.querySelector(".cart__empty"),this.removeBtn,this.toPaySelector,this.removeBtn=null,this.lastRemoved=null,this.handleRemoveFromCart(),this.windowSize=new o}var t,n,r;return t=e,(n=[{key:"setCollection",value:function(e){this.collection=e}},{key:"setSelectorProductInCart",value:function(e,t){var n={id:e.getId(),selectorInCart:t};this.productsInCartSelectors.push(n)}},{key:"handleToggleContent",value:function(){this.cartSelector.addEventListener("mouseenter",this.showContent.bind(this)),this.cartSelector.addEventListener("mouseleave",this.hideContent.bind(this)),this.cartSelector.addEventListener("click",this.showContent.bind(this)),this.cartSelector.addEventListener("click",this.hideContent.bind(this))}},{key:"handleRemoveFromCart",value:function(){this.cartContainerSelector.addEventListener("click",this.removeFromCart.bind(this))}},{key:"calculateThePrice",value:function(){var e=this.products.reduce(function(e,t){return e+t.getPrice()},0);this.moneyToPay=e}},{key:"showMoneyToPay",value:function(){this.toPaySelector.innerHTML="".concat(this.moneyToPay,"$")}},{key:"showCountProducts",value:function(){this.count=this.products.length,this.countInCart.innerHTML=this.count}},{key:"showContent",value:function(e){this.windowSize.checkIfMobile()||"mouseenter"!==e.type?this.windowSize.checkIfMobile()&&"click"===e.type&&(this.dropdownSelector.classList.add("popup--active"),this.buttonCloseSelector.classList.add("active"),this.dropdownSelector.classList.remove("cart__dropdown--active")):(this.dropdownSelector.classList.add("cart__dropdown--active"),this.buttonCloseSelector.classList.remove("active"),this.dropdownSelector.classList.remove("popup--active"))}},{key:"hideContent",value:function(e){this.windowSize.checkIfMobile()||"mouseleave"!==e.type?this.windowSize.checkIfMobile()&&"click"===e.type&&e.target===this.buttonCloseSelector&&(this.dropdownSelector.classList.remove("popup--active"),this.buttonCloseSelector.classList.remove("active")):this.dropdownSelector.classList.remove("cart__dropdown--active")}},{key:"placeInCart",value:function(e){this.products.length||this.generateHtmlList();var t=this.generateHtmlItem(e);this.setSelectorProductInCart(e,t),this.products.push(e),this.calculateThePrice(),this.showCountProducts(),this.showMoneyToPay()}},{key:"removeFromCart",value:function(){if(event.target.classList.contains("cart__list-btn")){var e=event.target.closest(".cart__list-item"),t=this.productsInCartSelectors.find(function(t){return t.selectorInCart===e}),n=this.productsInCartSelectors.findIndex(function(e){return e.id===t.id}),r=this.products.findIndex(function(e){return e.getId()===t.id});t.selectorInCart.remove(),this.productsInCartSelectors.splice(n,1),this.lastRemoved=this.products[r],this.products.splice(r,1),this.showCountProducts(),this.calculateThePrice(),this.showMoneyToPay(),this.collection.removeAddedToCartInHtml(this.lastRemoved),this.products.length||(this.cartEmptySelector.classList.remove("hidden"),this.cartNotEmptySelector.innerHTML="")}}},{key:"generateHtmlList",value:function(){var e,t;this.cartEmptySelector.classList.add("hidden"),this.countInCart.classList.add("active"),t=document.createElement("ul"),this.cartNotEmptySelector.appendChild(t),t.classList.add("cart__list");var n=document.createElement("hr");this.cartNotEmptySelector.appendChild(n),n.classList.add("cart__line"),this.cartBtnSelector.textContent="Go to Cart";var r=document.createElement("p");this.cartNotEmptySelector.appendChild(r),r.classList.add("cart__pay"),this.toPaySelector=document.querySelector(".cart__pay");var o=document.createElement("button");(e=o.classList).add.apply(e,["btn","cart__btn"]),o.textContent="Go shopping",this.cartNotEmptySelector.appendChild(o),r.classList.add("cart__pay")}},{key:"generateHtmlItem",value:function(e){var t=document.querySelector(".cart__list"),n=document.createElement("li");t.appendChild(n),n.classList.add("cart__list-item"),n.setAttribute("data-id","".concat(e.getId()));var r=document.createElement("p");n.appendChild(r),r.classList.add("cart__list-btn"),r.innerHTML="x",this.removeBtn=document.querySelector(".cart__list-btn");var o=document.createElement("img");n.appendChild(o);var i=e.getId()<8?e.getImage():e.getTemporaryImage();o.src="./assets/".concat(i,".jpg"),o.classList.add("cart__list-img");var a=document.createElement("p");n.appendChild(a),a.innerHTML=e.getName();var c=document.createElement("p");return n.appendChild(c),c.innerHTML="".concat(e.getPrice(),"$"),document.querySelector('li[data-id="'.concat(e.getId(),'"]'))}}])&&p(t.prototype,n),r&&p(t,r),e}();function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.products=[],this.productsSelector=null,this.bagBtnsSelector=null,this.likesSelector=null,this.mainCart=t,this.favouritesProducts=[],this.mainInfoSelector=document.querySelector(".main__info"),this.windowSize=new o,this.saveToSessionStorage(),window.addEventListener("resize",this.showAddedToCart.bind(this)),window.addEventListener("resize",this.showAddedToFavourites.bind(this))}var t,n,r;return t=e,(n=[{key:"getProducts",value:function(){return this.products}},{key:"getProductsSelector",value:function(){return this.productsSelector}},{key:"setProductsSelectors",value:function(){this.productsSelector=b(document.querySelectorAll(".product:not(#clone)")),this.likesSelector=b(document.querySelectorAll(".product__like")),this.bagBtnsSelector=b(document.querySelectorAll(".product__bag")),this.handleMouseEvent(),this.handleAddToFavourites(),this.handleAddToCart()}},{key:"setProducts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"change";t||"change"!==n?t&&"addAfter"===n?this.products=[].concat(b(this.products),b(e)):t&&"addBefore"===n&&(this.products=[].concat(b(e),b(this.products))):this.products=e}},{key:"handleMouseEvent",value:function(){var e=this;null!==this.productsSelector&&this.productsSelector.forEach(function(t){t.addEventListener("mouseover",e.mouseOver.bind(e)),t.addEventListener("mouseleave",e.mouseLeave.bind(e))})}},{key:"handleAddToFavourites",value:function(){var e=this;null!==this.likesSelector&&this.likesSelector.forEach(function(t){t.addEventListener("click",e.addToFavourites.bind(e))})}},{key:"handleAddToCart",value:function(){var e=this;null!==this.bagBtnsSelector&&this.bagBtnsSelector.forEach(function(t){t.addEventListener("click",function(t){return e.addToCart(t)})})}},{key:"findProductById",value:function(e){return this.products.find(function(t){return t.getId()===e})}},{key:"mouseOver",value:function(e){var t=parseFloat(e.currentTarget.dataset.id),n=this.findProductById(t);this.windowSize.checkIfMobile()||(n.getAddedToCart()||(n.getSelectorImgHover().classList.add("product__img-hover--active"),n.getSelectorInPageBtn().classList.add("active")),n.getFavourite()||n.getSelectorInPageFav().classList.add("active"),n.setHover(!0))}},{key:"mouseLeave",value:function(e){var t=parseFloat(e.target.dataset.id),n=this.findProductById(t);this.windowSize.checkIfMobile()||(n.getFavourite()||n.getSelectorInPageFav().classList.remove("active"),n.getSelectorImgHover().classList.remove("product__img-hover--active"),n.getAddedToCart()||n.getSelectorInPageBtn().classList.remove("active"),n.setHover(!1))}},{key:"addToFavourites",value:function(e){var t=parseFloat(e.target.closest(".product").dataset.id),n=this.findProductById(t),r=this.favouritesProducts.findIndex(function(e){return e.id===n.getId()});this.toggleFavouritesInHtml(n,r)}},{key:"toggleFavouritesInHtml",value:function(e,t){e.getFavourite()?(e.getSelectorInPageFav().innerHTML='<i class="far fa-heart"></i>',e.getSelectorInPageFav().classList.remove("product__like--active"),e.setAddedToFavourites(!1),this.favouritesProducts.splice(t,1),this.saveToSessionStorage()):e.getFavourite()||(e.getSelectorInPageFav().innerHTML='<i class="fas fa-heart"></i>',e.getSelectorInPageFav().classList.add("product__like--active"),e.getSelectorInPageFav().classList.add("active"),e.setAddedToFavourites(!0),this.favouritesProducts.push(e),this.saveToSessionStorage())}},{key:"checkFavouritesInHtml",value:function(e){e.getSelectorInPageFav().innerHTML='<i class="fas fa-heart"></i>',e.getSelectorInPageFav().classList.add("product__like--active"),e.getSelectorInPageFav().classList.add("active")}},{key:"toggleAppearanceBtnText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=["active","product__bag--active"];t?(n.forEach(function(t){e.getSelectorInPageBtn().classList.add("".concat(t))}),e.getSelectorInPageBtnText().innerHTML="Added to Cart",e.getSelectorInPageBtnIcon().classList.add("hide")):(n.forEach(function(t){e.getSelectorInPageBtn().classList.remove("".concat(t))}),e.getSelectorInPageBtnText().innerHTML="Add to Cart",e.getSelectorInPageBtnIcon().classList.remove("hide"))}},{key:"addToCart",value:function(e){var t=parseFloat(e.currentTarget.closest(".product").dataset.id),n=this.findProductById(t);n.getAddedToCart()||(n.setAddedToCart(!0),this.toggleAppearanceBtnText(n,!0),this.mainCart.placeInCart(n))}},{key:"removeAddedToCartInHtml",value:function(e){var t=this,n=e.id;this.products.forEach(function(e){e.getId()===n&&(e.setAddedToCart(!1),t.toggleAppearanceBtnText(e,!1))})}},{key:"showAddedToCart",value:function(){var e=this,t=this.mainCart.products;this.products.filter(function(e){return!!t.filter(function(t){return e.getId()===t.id}).length}).forEach(function(t){e.toggleAppearanceBtnText(t,!0),t.setAddedToCart(!0)})}},{key:"showAddedToFavourites",value:function(){var e=this,t=sessionStorage.getItem("products");this.favouritesProducts=JSON.parse(t),this.products.filter(function(t){return!!e.favouritesProducts.filter(function(e){return t.getId()===e.id}).length}).forEach(function(t){e.checkFavouritesInHtml(t),t.setAddedToFavourites(!0)})}},{key:"saveToSessionStorage",value:function(){sessionStorage.setItem("products",JSON.stringify(this.favouritesProducts))}},{key:"generateProducts",value:function(){this.products.forEach(function(e){return e.generateHtml()})}},{key:"clearProductsInHtml",value:function(){var e=document.querySelector(".main__grid");document.querySelectorAll(".product:not(#clone)").forEach(function(t){return e.removeChild(t)})}},{key:"clearProducts",value:function(){this.products=[]}},{key:"showInfoNoProducts",value:function(){this.mainInfoSelector.classList.remove("hide")}},{key:"hideInfoNoProducts",value:function(){this.mainInfoSelector.classList.add("hide")}}])&&S(t.prototype,n),r&&S(t,r),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentPage=0,this.maxPages=0,this.minPage,this.maxPage,this.clear=!1,this.paginationItem,this.paginationListSelector,this.pagination=document.querySelector(".pagination"),this.buttonMoreSelector=document.querySelector(".pagination__more"),this.buttonPrevSelector=document.querySelector(".main__prev"),this.arrow,this.windowSize=new o,this.collection=t,this.event=!1,this.handleChangePageByArrow()}var t,n,r;return t=e,(n=[{key:"getCurrentPage",value:function(){return this.currentPage}},{key:"getMaxPages",value:function(){return this.maxPages}},{key:"setCurrentPage",value:function(e){this.currentPage=e}},{key:"setMaxPages",value:function(e){this.maxPages=e}},{key:"setConfig",value:function(e){this.config=e}},{key:"setMinPage",value:function(){this.minPage||(this.minPage=this.currentPage)}},{key:"setMaxPage",value:function(){this.maxPage||(this.maxPage=this.currentPage)}},{key:"handleChangePage",value:function(){var e=this;this.paginationItem.forEach(function(t){return t.addEventListener("click",function(t){return e.changePage(t)})})}},{key:"handleChangePageMobile",value:function(){var e=this;this.buttonMoreSelector.addEventListener("click",function(t){return e.changePageByButtonMore()}),this.buttonPrevSelector.addEventListener("click",function(t){return e.changePageByButtonPrev()})}},{key:"handleChangePageByArrow",value:function(){var e=this;this.pagination.addEventListener("click",function(t){return e.changePageByArrow(t)})}},{key:"nextPage",value:function(){this.currentPage<this.maxPages&&(this.currentPage=this.maxPage+1),this.maxPage=this.currentPage}},{key:"prevPage",value:function(){this.currentPage>0&&(this.currentPage=this.minPage-1),this.minPage=this.currentPage}},{key:"toggleButtonMore",value:function(){this.maxPage===this.maxPages||this.currentPage===this.maxPages?this.buttonMoreSelector.classList.add("hide"):this.buttonMoreSelector.classList.remove("hide")}},{key:"toggleButtonPrev",value:function(){this.minPage<=1||this.currentPage<=1?this.buttonPrevSelector.classList.add("hide"):this.buttonPrevSelector.classList.remove("hide")}},{key:"changePageByButtonMore",value:function(){this.setMaxPage(),this.nextPage(),this.config.method="addAfter",se(this.config),this.toggleButtonMore()}},{key:"changePageByButtonPrev",value:function(){this.setMinPage(),this.prevPage(),this.collection.clearProductsInHtml(),this.toggleButtonMore(),this.config.method="addBefore",se(this.config),this.toggleButtonPrev()}},{key:"changePage",value:function(e){var t;e.preventDefault(),this.collection.clearProductsInHtml(),t=e.currentTarget.dataset.id,this.currentPage=t,se(this.config)}},{key:"changePageByArrow",value:function(e){e.target===this.arrow&&(this.collection.clearProductsInHtml(),this.currentPage=this.currentPage+1,se(this.config))}},{key:"createPagination",value:function(){if(this.windowSize.checkIfMobile())!this.event&&this.windowSize.checkIfMobile()&&(this.handleChangePageMobile(),this.event=!0,this.toggleButtonPrev(),this.toggleButtonMore());else{this.pagination.innerHTML="";var e=document.createElement("ul");e.classList.add("pagination__list"),this.pagination.appendChild(e),this.paginationListSelector=document.querySelector(".pagination__list");for(var t=1;t<=this.maxPages;t++){var n=document.createElement("li");this.paginationListSelector.appendChild(n),n.setAttribute("data-id","".concat(t)),n.classList.add("pagination__item"),this.paginationItem=document.querySelectorAll(".pagination__item");var r=document.querySelector(".pagination__item:nth-child(".concat(t,")")),o=document.createElement("a");o.textContent="0".concat(t),o.href="#",r.appendChild(o)}if(this.maxPages>1&&this.maxPages!==this.currentPage){var i=document.createElement("img");i.src="./assets/iconmonstr-arrow-right-thin.svg",this.pagination.appendChild(i),i.classList.add("pagination__arrow"),this.arrow=document.querySelector(".pagination__arrow")}document.querySelector(".pagination__item:nth-child(".concat(this.currentPage,")")).classList.add("pagination__item--active"),this.handleChangePage()}}},{key:"clearPagination",value:function(){this.pagination.innerHTML=""}},{key:"showCurrentPage",value:function(){this.windowSize.checkIfMobile()?(this.setMinPage(),this.setMaxPage(),this.toggleButtonMore(),this.toggleButtonPrev(),this.clear||(this.collection.clearProducts(),this.clear=!0,se(this.config))):(this.collection.clearProductsInHtml(),se(this.config),this.clear=!1,this.minPage=0,this.maxPage=0)}}])&&P(t.prototype,n),r&&P(t,r),e}();function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.value=[],this.selectors=null}var t,n,r;return t=e,(n=[{key:"getName",value:function(){return this.name}},{key:"getValue",value:function(){return this.value}},{key:"setDataName",value:function(e){e.forEach(function(e){return e.dataset.value=e.querySelector(".sidebar__item-text").textContent}),this.setSelectors(e),this.handleEvents()}},{key:"setSelectors",value:function(e){var t={};e.forEach(function(e){return t[e.dataset.value]=e}),this.selectors=t}},{key:"handleEvents",value:function(){for(var e in this.selectors)this.selectors[e].addEventListener("click",this.handleClick.bind(this))}},{key:"handleClick",value:function(e){e.preventDefault();var t=e.currentTarget.dataset.value;this.toggleItem(t),this.value.length||(this.value=["All products"],this.addActiveClass())}},{key:"toggleItem",value:function(e){this.checkItemIsAddedToValue(e)&&"All products"!==e?(this.removeActiveClass(this.activeClassName,e),this.removeItemFromValue(e)):"All products"===e?(this.clearActiveClasses(),this.value=["All products"],this.addActiveClass()):"category"===this.name&&"All products"!==e&&this.checkItemIsAddedToValue("All products")?(this.removeItemFromValue(),this.removeActiveClass(),this.addItemToValue(e),this.addActiveClass(this.activeClassName,e)):(this.addActiveClass(this.activeClassName,e),this.addItemToValue(e))}},{key:"checkItemIsAddedToValue",value:function(e){return!!this.value.includes(e)}},{key:"addItemToValue",value:function(e){this.value.push(e)}},{key:"removeItemFromValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All products",t=this.value.findIndex(function(t){return t===e});this.value.splice(t,1)}},{key:"removeActiveClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sidebar__item--active",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"All products";this.selectors[t].classList.remove(e)}},{key:"addActiveClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sidebar__item--active",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"All products";this.selectors[t].classList.add(e)}},{key:"clearActiveClasses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sidebar__item--active";for(var t in this.selectors)this.selectors[t].classList.remove(e)}}])&&I(t.prototype,n),r&&I(t,r),e}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=T(this,L(t).call(this,"category"))).value=["All products"];var n=A(document.querySelectorAll(".categories .sidebar__item"));return e.setDataName(n),e.addActiveClass(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,k),t}(),O=function(e){var t=document.getElementById("from"),n=document.getElementById("to");$(".js-range-slider").ionRangeSlider({type:"double",min:0,max:1500,from:200,to:500,skin:"round",onStart:function(e){t.setAttribute("value",e.from),n.setAttribute("value",e.to),t.addEventListener("input",function(){var e=this.value;t.setAttribute("value",e)})},onChange:function(r){t.setAttribute("value",r.from),n.setAttribute("value",r.to),t.addEventListener("input",function(){var e=this.value;t.setAttribute("value",e)}),e.setValue()}})};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=B(t).call(this,"price"))||"object"!==j(r)&&"function"!=typeof r?q(n):r).value=[],e.minSelector=document.querySelector(".price #from"),e.maxSelector=document.querySelector(".price #to"),e.selectors=document.querySelectorAll(".filter__price-value"),O(q(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,k),n=t,(r=[{key:"setValue",value:function(){var e=parseFloat(this.minSelector.value),t=parseFloat(this.maxSelector.value);this.value=[e,t]}}])&&M(n.prototype,r),o&&M(n,o),t}();function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=D(this,R(t).call(this,"color"))).value=[];var n=z(document.querySelectorAll(".filter__color"));return e.activeClassName="filter__color--active",e.setDataName(n),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,k),n=t,(r=[{key:"setDataName",value:function(e){e.forEach(function(e){return e.dataset.value=e.textContent}),this.setSelectors(e),this.handleEvents()}}])&&V(n.prototype,r),o&&V(n,o),t}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Q(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Q(this,U(t).call(this,"size"))).value=[];var n=K(document.querySelectorAll(".size .sidebar__item"));return e.setDataName(n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,k),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function te(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=te(this,ne(t).call(this,"brand"))).value=[];var n=ee(document.querySelectorAll(".brands .sidebar__item"));return e.setDataName(n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,k),t}();function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ae,ce=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filters=[];var t=[new x,new F,new G,new Y,new oe];this.addToCollection(t)}var t,n,r;return t=e,(n=[{key:"addToCollection",value:function(e){var t=this;e.forEach(function(e){return t.filters.push(e)})}},{key:"getFilters",value:function(){var e={};return this.filters.forEach(function(t){return e[t.getName()]=t.getValue()}),e}}])&&ie(t.prototype,n),r&&ie(t,r),e}(),se=function(e){var t=e.url,n=e.collection,r=e.mainCart,i=e.paginator,a=e.method,c=e.filterCollection,s=new o,u=new FormData;u.append("page",i.getCurrentPage()),u.append("filters",JSON.stringify(c.getFilters())),fetch(t,{method:"post",body:u}).then(function(e){return e.ok?e.json():Promise.reject(e)}).then(function(e){return i.setCurrentPage(e.page),i.setMaxPages(e.maxPages),e.products}).then(function(e){var t=0;return e.map(function(e){var n=e.id,r=e.name,o=e.price,i=e.image;return s.checkIfMobile()?t=n:t<=7?t++:t=0,new m(n,r,o,i,t)})}).then(function(e){return s.checkIfMobile()&&""!==a?n.setProducts(e,!0,a):n.setProducts(e),n.getProducts()}).then(function(e){if(n.clearProductsInHtml(),!n.getProducts().length)return n.showInfoNoProducts(),i.clearPagination(),Promise.reject("no products");n.hideInfoNoProducts(),n.generateProducts()}).then(function(e){return n.setProductsSelectors()}).then(function(t){return r.setCollection(n),n.showAddedToCart(),n.showAddedToFavourites(),i.setConfig(e),i.createPagination(),t}).catch(function(e){return console.log(e)})};new u,new f;!function(){var e=document.querySelector(".filter__button"),t=new y,n=new _(t),r=new w(n),o=new ce;se(ae={url:"https://makuchdesign.pl/justyna/sky_planet/ajax.php",collection:n,mainCart:t,paginator:r,method:"",filterCollection:o});t.handleToggleContent(),window.addEventListener("resize",function(){return r.showCurrentPage()}),window.addEventListener("resize",function(){return r.createPagination()}),e.addEventListener("click",function(){r.setCurrentPage(1),se(ae)})}()}]);
//# sourceMappingURL=bundle.js.map